---
title: "初めて Flutter の自作パッケージを pub.dev に公開してみた話" # 記事のタイトル
emoji: "👶" # アイキャッチとして使われる絵文字（1文字だけ）
type: "idea" # tech: 技術記事 / idea: アイデア
topics: ["Flutter", "Dart"] # トピックス（タグ）["markdown", "rust", "aws"]のように指定する
published: true # 公開設定（falseにすると下書き）
---

# はじめに
ご覧いただきありがとうございます。[gan](https://zenn.dev/ryota_iwamoto)です。

先日、Flutter の実作パッケージを初めて pub.dev に公開したので、その時に考えたことを idea としてまとめておこうと思います。この記事では具体的な公開の手順については書きません。そのような方法に関しての記事は参考にした記事を最後にまとめることに止めます。

# どんなパッケージを公開したのか

以下が自分が公開したものになります。本当に簡単な Widget です。なので Dart コードも比較的わかりやすいものだと思います。

https://pub.dev/packages/debug_window

どんな Widget かを一言で表すなら、『開発環境で使用するシンプルな Debug ウィンドウ』です。背景の色を変えたり、ウィンドウの最小化ができたりするのが特徴です。

![](https://storage.googleapis.com/zenn-user-upload/061813aa28d8-20230101.png)

# 公開するに至った経緯

https://zenn.dev/kosukesaigusa/articles/flutterfire-infinite-scroll-chat

きっかけはこの記事の冒頭の gif 画像です。これを見て、コンソールじゃなくてアプリの画面上でちゃんとデータを受け取れてるかを確認できたらいいな、と思い作ってみようと思いました。

なので見た目に関してはほとんど同じです。ただ自分が主に工夫したのは、閉じるボタンがあること、画面の上部ではなく下部に表示させる、この2点です。

なるべくいろんな開発環境に対応できるようにウインドウの背景の色を変更可能にするなどの調整もしました。よかったら実際に使ってみてください。

# よかったこと
自作のパッケージを公開してみてよかったことをまとめます。

## 開発者側の気持ちがわかる
一番はこれだと思います。どうやったら使いやすいものになるか、こういう切り替えができた方が実際にはいいのでは、というようにソフトウェアを使う側の目線を考えるきっかけになりました。

## テストや静的解析を意識するようになる
オープンな場所に公開するのでコードの安全性は高い状態にあるべきです。そのため最低限、テストを書くことになります。なかなかテストを書くことを自分は避けてきた（そういう機会もあまりなかった）ので、テストを書く機会があっただけでもかなりの収穫です。またパッケージの公開時には静的解析が走るのでそのためのCIの構築も行いました。

## ドキュメントの書き方を知れる
基本的にドキュメントは英語です。ドキュメントの書き方は言語によって様々です。普通に開発している分には日本語でドキュメントを書いたり、もしくはコメント自体あまり書かないという人もいると思います。テストと同様にこちらも必然的に書かなければならない環境なのでいい勉強の機会になりました。

:::message alert
ドキュメントはあまり書かなくても公開はできますが、pub.dev ではパッケージごとに点数がつくので書くことをおすすめします。

![](https://storage.googleapis.com/zenn-user-upload/adc9611fb092-20230101.png)

:::

# わるかったこと
正直、ほとんどないです。公開の手順も簡単で作ったパッケージに対して ``flutter pub publish`` を実行するだけなので公開に関してはほとんど詰まるところはありませんでした。強いてあげるのであれば自分の英語力。もっと適切な表現があるんだろうな、と考えながら書いているのでそこを次やる時に改善でればと思います。

# 参考にしたもの

https://itome.team/blog/2019/12/flutter-advent-calendar-day24/

https://zenn.dev/chooyan/articles/f358c9a80f471e

https://github.com/susatthi/roggle

https://qiita.com/KKusumi/items/f458a42bbbf1958ad8d1

https://qiita.com/tokkun5552/items/2eb6793501c152dabf33#%E3%81%BE%E3%81%A8%E3%82%81

https://bibinbaleo.hatenablog.com/entry/2020/02/04/210900
